### Оптимальное расписание. Стратегия разделения процессоров
## Вариант 6

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 41  |  25 |  13 |  11 |  9  |

| Исполнители           |  1  |  2  |  3  |
|:----------------------|:---:|:---:|:---:|
| Производительность(p) |  6  |  2  |  1  |

Необходимо построить расписание, выполняемое в кратчайшие сроки.

## 1 шаг - Длительность оптимального распределения по формуле

$$  
T_{min} = \frac {V_1 + V_2 + ... + V_n}{p_1 + p_2 + ... + p_k}  
$$  

$$  
T_{min} = \frac {41 + 25 + 13 + 11 + 9}{6 + 2 + 1}  = \frac{99}{9} = 11\ (часов)
$$  

## 2 шаг - Расставить приоритеты задач

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 41  |  25 |  13 |  11 |  9  |
| Приоритет    | 1   |  2  |   3 |  4  |  5  | 

## 3 шаг - Назначить исполнителей  
На самую приоритетную задачу столько исполнителей сколько можем (высокопроизводительных на высокоприоритетные)

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность | 41  |  25 |  13 |  11 |  9  |
| Приоритет    | 1   |  2  |   3 |  4  |  5  |
| Исполнитель  |  1  |  2  |  3  |  -  |  -  |

Они выполняют эти задачи до тех пор, пока длительность более приоритетной задачи не опустится ниже менее приоритетной или пока одна из работ не закончится. Рассчитываем возможные события:

| Событие      | Уравнение                  | t     |
|:-------------|:---------------------------|:------|
| A = B        | 41 - 6t = 25 - 2t          | t = 4 |
| B = C        | 25 - 2t = 13 - t           | t = 12|
| C = D        | 13 - t = 11                | t = 2 |

Наименьшее t = 2 часа. Уровни C и D сравняются.

**На момент t = 2 часа:**

Выполнено: A: 6×2=12, B: 2×2=4, C: 1×2=2  
Остаток: A=29, B=21, C=11, D=11, E=9

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Остаток      | 29  | 21  | 11  | 11  | 9   |
| Приоритет    | 1   | 2   | 3   | 3   | 4   |

Группируем C и D (одинаковый приоритет). Исполнитель 3 делит время поровну, получается эффективная производительность на группу CD: 1/2 = 0.5

## 4 шаг (t=2→ t=4)

| Группы       | A   | B   | CD  | E   |
|:-------------|:----|:----|:----|:----|
| Остаток      | 29  | 21  | 11  | 9   |
| Исполнитель  | 1   | 2   | 3   | -   |

Возможные события:

| Событие      | Уравнение                  | t     |
|:-------------|:---------------------------|:------|
| A = B        | 29 - 6t = 21 - 2t          | t = 2 |
| B = CD       | 21 - 2t = 11 - 0.5t        | t = 6,(6) |
| CD = E       | 11 - 0.5t = 9              | t = 4 |

Наименьшее t = 2 часа. A и B сравняются.

**На момент t = 4 часа (от старта):**

Выполнено на этом этапе: A: 12, B: 4, CD: 1 (по 0.5 на C и D)  
Остаток: A=17, B=17, C=10, D=10, E=9

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Остаток      | 17  | 17  | 10  | 10  | 9   |
| Приоритет    | 1   | 1   | 2   | 2   | 3   |

Группируем A и B. Исполнители 1 и 2 делят время поровну, получается эффективная производительность на группу AB: (6+2)/2 = 4  
Группа CD остаётся (исполнитель 3, эффективная 0.5)

## 5 шаг (t=4 → t=6)

| Группы       | AB  | CD  | E   |
|:-------------|:----|:----|:----|
| Остаток      | 17  | 10  | 9   |
| Исполнитель  | 1+2 | 3   | -   |

Возможные события:

| Событие      | Уравнение                  | t     |
|:-------------|:---------------------------|:------|
| AB = CD      | 17 - 4t = 10 - 0.5t        | t = 2 |
| AB = E       | 17 - 4t = 9                | t = 2 |
| CD = E       | 10 - 0.5t = 9              | t = 2 |

Все события одновременно при t = 2 часа, все задачи сравняются по 9.

**На момент t = 6 часов:**

- Выполнено на этом этапе: AB: 8 (по 4 на A и B), CD: 1 (по 0.5 на C и D)
- Остаток: A=9, B=9, C=9, D=9, E=9

## 6 шаг — Финальный этап (t=6 → t=11) 

Все 5 задач имеют одинаковый остаток 9, объединяем в одну группу ABCDE.  
Все 3 исполнителя делят время поровну между 5 задачами.  
Эффективная производительность на каждую задачу: (6+2+1)/5 = 9/5 = 1.8 в час.  

Оставшееся время: 9 / 1.8 = 5 часов.  
Общее время: 6 + 5 = 11 часов.

**Длительность полученного расписания: 11 часов.**

## Диаграмма Ганта

```mermaid
gantt
    title Диаграмма Ганта (Вариант 6)
    dateFormat  HH:mm
    axisFormat  %H:%M

    section Исполнитель 1
    A (этап 1) :a1, 00:00, 2h
    A (этап 2) :a2, 02:00, 2h
    A (этап 3) :a3_part1, 04:00, 1h
    B (этап 3) :a3_part2, 05:00, 1h
    A (этап 4) :a4_a, 06:00, 1h
    B (этап 4) :a4_b, 07:00, 1h
    C (этап 4) :a4_c, 08:00, 1h
    D (этап 4) :a4_d, 09:00, 1h
    E (этап 4) :a4_e, 10:00, 1h

    section Исполнитель 2
    B (этап 1) :b1, 00:00, 2h
    B (этап 2) :b2, 02:00, 2h
    B (этап 3) :b3_part1, 04:00, 1h
    A (этап 3) :b3_part2, 05:00, 1h
    B (этап 4) :b4_b, 06:00, 1h
    C (этап 4) :b4_c, 07:00, 1h
    D (этап 4) :b4_d, 08:00, 1h
    E (этап 4) :b4_e, 09:00, 1h
    A (этап 4) :b4_a, 10:00, 1h

    section Исполнитель 3
    C (этап 1) :c1, 00:00, 2h
    C (этап 2) :c2_part1, 02:00, 1h
    D (этап 2) :c2_part2, 03:00, 1h
    C (этап 3) :c3_part1, 04:00, 1h
    D (этап 3) :c3_part2, 05:00, 1h
    C (этап 4) :c4_c, 06:00, 1h
    D (этап 4) :c4_d, 07:00, 1h
    E (этап 4) :c4_e, 08:00, 1h
    A (этап 4) :c4_a, 09:00, 1h
    B (этап 4) :c4_b, 10:00, 1h

    milestone Окончание работ :m1, 11:00, 0h


