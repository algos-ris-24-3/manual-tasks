# Вариант 3
Условие:

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность |  18 |  18 |  12 |  12 |  6  |


| Исполнители           |  1  |  2  |  3  |
|:----------------------|:---:|:---:|:---:|
| Производительность(p) |  6  |  4  |  2  |

## Решение

1. Найдем длительность оптимального расписания по формуле

$$
    T_{min} = \frac {V_1 + V_2 + ... + V_n}{p_1 + p_2 + ... + p_k} = \frac {18+18+12+12+6}{6+4+2} = 5\frac {1}{2}
$$

### Первый период времени

2. Расставим приоритеты выполнения заданий

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность |  18 |  18 |  12 |  12 |  6  |
| Приоритет    |  1  |  1  |  2  |  2  |  3  |

Так как задания A и B имеют одинаковый приоритет (1), **объединим их в AB.**
Так как задания C и D имеют одинаковый приоритет (2), **объединим их в CD.**

3. Назначим исполнителей на задание, при необходимости найдём их производительность.

На задание AB можно назначить максимум *двух* исполнителей, тогда:

$$
    P_{12} = \frac {6+4}{2} = 5
$$

На задание CD можно назначить максимум *одного* исполнителя, в этом случае производительность 

$$
    P_{3} = \frac {2}{2} = 1
$$

4. Рассмотрим случаи равенства заданий для нахождения минимального времени


|    AB = CD   |  CD = E |
|:-------------|:-------:|
| 18-5t = 12-t|12 - t = 6|
| 6 = 4t       |  t = 6 |
| t = 1,5        |  |

Выбираем для периода **t = 1,5**

5. Тогда начало диаграммы Ганта будет выглядеть так:

```mermaid
gantt
    title Черновик диаграммы Ганта
    dateFormat DD HH:mm    
    axisFormat %H:%M
    Начало выполнения работ : milestone, m1, 01 00:00, 0h
    section Исполнитель 1
    A         :a1, 01 00:00, 0.75h
    B         :a2, after a1, 0.75h
    section Исполнитель 2
    B         :b1, 01 00:00, 0.75h
    A         :b2, after b1, 0.75h
    section Исполнитель 3
    C         :c1, 01 00:00, 0.75h
    D         :c2, after b1, 0.75h
    Окончание выполнения работ : milestone, m2, 01 05:30, 0h
```
### Второй период времени

6. Вычислим новые длительности заданий и обновим приоритеты

Для A и B: $18-5t = 18-5*1,5 = 10,5$

Для C и D: $12-t = 12-1,5 = 10,5$

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность |  10,5 |  10,5 |  10,5 |  10,5 |  6  |
| Приоритет    |  1  |  1  |  1  |  1  |  2  |

Так как задания A, B, C и D имеют одинаковый приоритет (1), **объединим их в ABCD.**

7. Назначим исполнителей на задание, при необходимости найдём их производительность.

На задание ABCD можно назначить максимум *трёх* исполнителей, тогда:

$$
    P_{123} = \frac {6+4+2}{3} = 4
$$

8. Рассмотрим случай равенства заданий для нахождения минимального времени

$$
ABCD = E
$$
$$
10,5-4t = 6
$$
$$
4t = 4,5
$$
$$
t = 1,125
$$

Выбираем для периода **t = 1,125**

9. Тогда начало диаграммы Ганта будет выглядеть так:

```mermaid
gantt
    title Черновик диаграммы Ганта
    dateFormat DD HH:mm    
    axisFormat %H:%M
    Начало выполнения работ : milestone, m1, 01 00:00, 0h
    section Исполнитель 1
    A         :a1, 01 00:00, 0.75h
    B         :a2, after a1, 0.75h
    A         :a3, 01 01:30, 0.28125h
    B         :a4, after a3, 0.28125h
    C         :a5, after a4, 0.28125h
    D         :a6, after a5, 0.28125h
    section Исполнитель 2
    B         :b1, 01 00:00, 0.75h
    A         :b2, after b1, 0.75h
    B         :b3, 01 01:30, 0.28125h
    C         :b4, after b3, 0.28125h
    D         :b5, after b4, 0.28125h
    A         :b6, after b5, 0.28125h
    section Исполнитель 3
    C         :c1, 01 00:00, 0.75h
    D         :c2, after b1, 0.75h
    C         :c3, 01 01:30, 0.28125h
    D         :c4, after c3, 0.28125h
    A         :c5, after c4, 0.28125h
    B         :c6, after c5, 0.28125h
    Окончание выполнения работ : milestone, m2, 01 05:30, 0h
```

### Третий период времени

10. Вычислим новые длительности заданий и обновим приоритеты

Для A, B, C и D: $10,5-4*1,125 = 6$

| Задания      |  A  |  B  |  C  |  D  |  E  |
|:-------------|:---:|:---:|:---:|:---:|:---:|
| Длительность |  6 |  6 |  6 |  6 |  6  |
| Приоритет    |  1  |  1  |  1  |  1  |  1  |

Теперь все задания имеют одну длительность и одинаковый приоритет. Можем завершить построение диаграммы Ганта.


## Ответ 

**Длительность полученного расписания - $5\frac {1}{2}$**

```mermaid
gantt
    title Диаграмма оптимального расписания выполнения заданий
    dateFormat DD HH:mm    
    axisFormat %H:%M
    Начало выполнения работ : milestone, m1, 01 00:00, 0h
    section Исполнитель 1
    A         :a1, 01 00:00, 0.75h
    B         :a2, after a1, 0.75h
    A         :a3, 01 01:30, 0.28125h
    B         :a4, after a3, 0.28125h
    C         :a5, after a4, 0.28125h
    D         :a6, after a5, 0.28125h
    A         :a7, 01 02:37, 0.5767h
    B         :a8, after a7, 0.5767h
    C         :a9, after a8, 0.5767h
    D         :a10, after a9, 0.5767h
    E         :a11, after a10, 0.5767h
    section Исполнитель 2
    B         :b1, 01 00:00, 0.75h
    A         :b2, after b1, 0.75h
    B         :b3, 01 01:30, 0.28125h
    C         :b4, after b3, 0.28125h
    D         :b5, after b4, 0.28125h
    A         :b6, after b5, 0.28125h
    B         :b7, 01 02:37, 0.5767h
    C         :b8, after b7, 0.5767h
    D         :b9, after b8, 0.5767h
    E         :b10, after b9, 0.5767h
    A         :b11, after b10, 0.5767h
    section Исполнитель 3
    C         :c1, 01 00:00, 0.75h
    D         :c2, after b1, 0.75h
    C         :c3, 01 01:30, 0.28125h
    D         :c4, after c3, 0.28125h
    A         :c5, after c4, 0.28125h
    B         :c6, after c5, 0.28125h
    C         :c7, 01 02:37, 0.5767h
    D         :c8, after c7, 0.5767h
    E         :c9, after c8, 0.5767h
    A         :c10, after c9, 0.5767h
    B         :c11, after c10, 0.5767h
    Окончание выполнения работ : milestone, m2, 01 05:30, 0h
```