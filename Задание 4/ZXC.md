# Вариант 7
## Задача о распределении инвестиций между проектами

| $   | A   | B   | С   | D   |
|-----|-----|-----|-----|-----|  
| 50  | 10  | 7   | 8   | 12  | 
| 100 | 13  | 10  | 11  | 14  | 
| 150 | 18  | 14  | 15  | 17  | 
| 200 | 20  | 15  | 17  | 18  | 
| 250 | 22  | 18  | 20  | 20  |
#### Для удобства будем считать вложения неделимыми частями (1 часть = 50)
### Оптимальное распределение между A:B
50:
|A|B|Сумма|
|-|-|-------|
|1|0| ***-> 10*** |
|0|1| -> 7  |

100:
|A|B|Сумма|
|-|-|-------|
|2|0| -> 13 |
|1|1| ***-> 17*** |
|0|2| -> 10 |

150:
|A|B|Сумма|
|-|-|-------|
|3|0| -> 18 |
|2|1| ***-> 20*** |
|1|2| ***-> 20*** |
|0|3| -> 14 |

200:
|A|B|Сумма|
|-|-|-------|
|4|0| -> 20 |
|3|1| ***-> 25*** |
|2|2| -> 23 |
|1|3| -> 24 |
|0|4| -> 15 |

250:
|A|B|Сумма|
|-|-|-------|
|5|0| -> 22 |
|4|1| -> 27 |
|3|2| ***-> 28*** |
|2|3| -> 27 |
|1|4| -> 25 |
|0|5| -> 18 |

Запишем результаты в таблицу:

| $   |   A:B    | C  | D  |
|-----|----------|----|----|
| 50  | 10 (1/0) | 8  | 12 | 
| 100 | 17 (1/1) | 11 | 14 |
| 150 | 20 (2/1) | 15 | 17 |
| 200 | 25 (3/1) | 17 | 18 |
| 250 | 28 (3/2) | 20 | 20 |

### Оптимальное распределение между (A:B):С

50:
|(A:B)|C|Сумма|
|-|-|-------|
|1|0| ***-> 10*** |
|0|1| -> 8  |

100:
|(A:B)|C|Сумма|
|-|-|-------|
|2|0| -> 17 |
|1|1| ***-> 18*** |
|0|2| -> 11 |

150:
|(A:B)|C|Сумма|
|-|-|-------|
|3|0| -> 20 |
|2|1| ***-> 25*** |
|1|2| -> 21 |
|0|3| -> 15 |

200:
|(A:B)|C|Сумма|
|-|-|-------|
|4|0| -> 25 |
|3|1| ***-> 28*** |
|2|2| -> 28 |
|1|3| -> 25 |
|0|4| -> 17 |

250:
|(A:B)|C|Сумма|
|-|-|-------|
|5|0| -> 28 |
|4|1| ***-> 33*** |
|3|2| -> 31 |
|2|3| -> 32 |
|1|4| -> 27 |
|0|5| -> 20 |

Запишем результаты в таблицу:

| $   |   A:B    |  A:B:C   | D  |
|-----|----------|----------|----|
| 50  | 10 (1/0) | 10 (1/0) | 12 | 
| 100 | 17 (1/1) | 18 (1/1) | 14 |
| 150 | 20 (2/1) | 25 (2/1) | 17 |
| 200 | 25 (3/1) | 28 (3/1) | 18 |
| 250 | 28 (3/2) | 33 (4/1) | 20 |

### Оптимальное распределение между (A:B:C) D:
Достаточно найти лучшее распределение 250 ед., так как это именно то, что требуется в задании, а так же распределения меньших сумм между проектами  (A:B:C) D, в отличиии от распределений сумм между предыдущими проектами, не играет роль в ответе.


250:
|(A:B:C)|D|Сумма|
|-|-|-------|
|5|0| -> 33 |
|4|1| ***-> 40*** |
|3|2| -> 39 |
|2|3| -> 35 |
|1|4| -> 28 |
|0|5| -> 20 |

Итоговая таблица:

| $   |   A:B    |  A:B:C   | A:B:C:D  |
|-----|----------|----------|----------|
| 50  | 10 (1/0) | 10 (1/0) |          | 
| 100 | 17 (1/1) | 18 (1/1) |          |
| 150 | ***20 (2/1)*** | 25 (2/1) |          |
| 200 | 25 (3/1) | ***28 (3/1)*** |          |
| 250 | 28 (3/2) | 33 (4/1) | ***40 (4/1)*** |

Из нижней правой ячейки видно, что лучшее распределение инвестиций между всеми проектами это: 

***4 * (A:B:C) + 1 * D***


Из таблицы находим лучшее распределение 4 частей между проектами (A:B):С - это


***3 * (A:B) + 1 * C***

Из таблицы находим лучшее распределение 3 частей между проектами A:B - это


***2 * A + 1 * B***

Подставляем значения и получаем следующую формулу распределения инвестиций:

***2 * A + 1 * B + 1 * C + 1 * D***

или 

***100 -> A***

***50 -> B***

***50 -> C***

***50 -> D***

### Ответ:
Наилучшее распределение инвестиций по проектам для достижения максимальной доходности:

100 ед. → проект A

50 ед. → проект B

50 ед. → проект C

50 ед. → проект D

Максимальная возможная прибыль: 20 + 28 + 40 = 88

## Конвейерная задача

|    | A  | B | C | D | E | F | G | H | I |
| -- | -- | - | - | - | - | - | - | - | - |
| I  | 13 | 1 | 5 | 6 | 3 | 3 | 1 | 4 | 6 |
| II | 6  | 3 | 4 | 5 | 5 | 4 | 2 | 4 | 5 |

### Алгоритм Джонсона

#### 1. Разбиваем все задачи на две группы:
В первую группу входят задачи, I этап которых длится меньше чем II этап -  

**B, E, F, G**

Во вторую группу попадают оставшиеся задачи -

**A, C, D, H, I**

#### 2. Сортируем задачи в группах

Первую группу по возрастанию длительности I этапа -

**B, G, E, F**

Вторую группу по убыванию длительности II этапа -

**A, D, I, C, H**

#### 3. Объединяем две группы в одну сохраняя внутренний порядок (сначала первая, потом вторая):

**B → G → E → F → H → A → D → I → C**

Таким образом задачи распределены по убыванию приоритета (самый высокий приоритет у задачи B)


### Построение диаграммы Ганта
При построении диаграммы пользуемся приоритетами, вычисленными на предыдущем этапе:
когда возникает конфликт, выбираем задачу с наибольшим приоритетом. Также следим за тем, чтобы II этап задачи всегда выполнялся после окончания выполнения I этапа

|        | 1  | 2  | 4  | 5  | 6  | 8  | 11 | 15 | 21 | 27 | 32 | 33 | 38 | 42 | 46 |
|--------|----|----|----|----|----|----|----|----|----|----|----|----|----|----|----|
| I этап |  B | G  | E  | E  | F  | F  | A  | A  | A  | D  | I  | I  | C  | H  |    |
| II этап| -  | B  | B  | G  |  G | E  | E  | F  | -  | A  | D  | -  | I  | C  | H  |

### Итог

* Кратчайшая длительность расписания: **46**


